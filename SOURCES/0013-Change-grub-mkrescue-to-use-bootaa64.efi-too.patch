From 0000000000000000000000000000000000000000 Mon Sep 17 00:00:00 2001
From: Andrey Borzenkov <arvidjaar@gmail.com>
Date: Tue, 7 Jan 2014 20:34:25 +0400
Subject: [PATCH] Change grub-mkrescue to use bootaa64.efi too

Also add ChangeLog entry for previous change.
---
 util/grub-mkrescue.c | 2 +-
 ChangeLog            | 7 +++++++
 2 files changed, 8 insertions(+), 1 deletion(-)

diff --git a/util/grub-mkrescue.c b/util/grub-mkrescue.c
index 317879d0b50..0d03e55d20c 100644
--- a/util/grub-mkrescue.c
+++ b/util/grub-mkrescue.c
@@ -663,7 +663,7 @@ main (int argc, char *argv[])
       make_image_fwdisk_abs (GRUB_INSTALL_PLATFORM_ARM_EFI, "arm-efi", imgname);
       free (imgname);
 
-      imgname = grub_util_path_concat (2, efidir_efi_boot, "bootaarch64.efi");
+      imgname = grub_util_path_concat (2, efidir_efi_boot, "bootaa64.efi");
       make_image_fwdisk_abs (GRUB_INSTALL_PLATFORM_ARM64_EFI, "arm64-efi",
 			     imgname);
       free (imgname);
diff --git a/ChangeLog b/ChangeLog
index e87f0a7a4a4..0b9fa05b2a0 100644
--- a/ChangeLog
+++ b/ChangeLog
@@ -1,3 +1,10 @@
+2014-01-07  Andrey Borzenkov <arvidjaar@gmail.com>
+
+	* util/grub-install.c: Use bootaa64.efi instead of bootaarch64.efi on
+	arm64 to comply with EFI specification. Also use grubaa64.efi for
+	consistency.
+	* util/grub-mkrescue.c: Change to use bootaa64.efi too.
+
 2014-01-07  Andrey Borzenkov <arvidjaar@gmail.com>
 
 	* include/grub/osdep/hostfile_windows.h: Do not redefine fseeko/ftello
